<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'wasm-unsafe-eval'; connect-src 'self';">
    <title>Choreodaemonics Body Transformer</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'wasm-unsafe-eval'; connect-src 'self';">
    
    <link href="styles.css" rel="stylesheet" />
    
    <script src="../../node_modules/@tensorflow/tfjs-core/dist/tf-core.min.js"></script>
    <script src="../../node_modules/@tensorflow/tfjs-converter/dist/tf-converter.min.js"></script>
    <script src="../../node_modules/@tensorflow/tfjs-backend-webgl/dist/tf-backend-webgl.min.js"></script>
    <script src="../../node_modules/@tensorflow-models/pose-detection/dist/pose-detection.min.js"></script>
    <script src="../../node_modules/@mediapipe/pose/pose.js"></script>
    <script type="module" src="detect.js"></script>

    <script defer src="renderer.js"></script>
    <script defer src="index.js"></script>

</head>

<body>
    <h1>Choreodaemonics Body Transformer</h1>

    <h1>MovementOSC</h1>
    <p class="tagline">by Kinetic Light and Lichen Community Systems</p>
    <div class="controls">
      <p class="model-controls">
          <select id="deviceSelector"></select>
          <select id="modelSelector"></select>
          Minimum Score: <input type="text" value="0.25" id="score" />
      </p>
      <p class="connection-info">
          <input type="text" value="127.0.0.1" id="ip" />:
          <input type="text" value="7500" id="port" />
      </p>
      <div id="video-area">
        <p><span id="poses">0</span> <span id="posesString">people</span> detected at <span id="fps">0</span> fps.</p>
        <canvas id="points"></canvas>
        <video id="camera"></video>
      </div>
    </div>

 <!-- Start OSC Checkbox -->
    <label>
        <input type="checkbox" id="startOSC">
        Start OSC
    </label>

    <!-- Keypoint selection checkboxes -->
        <div id="keypointList"></div>

        <!-- Visualization area -->
        <canvas id="poseCanvas" width="640" height="480"></canvas>



    <!-- Table to display received OSC data -->
    <h2>OSC Data</h2>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>X</th>
                <th>Y</th>
            </tr>
        </thead>
        <tbody id="osc-table-body">
            <!-- Rows will be dynamically inserted here -->
        </tbody>
    </table>



</body>

</html>
